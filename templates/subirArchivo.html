{% extends "layout.html" %}

{% block title %}
    Index
{% endblock %}

{% block div %}
    
    <div class="welcome-message">Subir Archivos</div>
    <div class="file-list">
        <div id="drop-area">
            <p>Arrastra y suelta tus archivos aqu√≠ o</p>
            <button onclick="document.getElementById('file-input').click()">Seleccionar archivos</button>
            <form id="file-form" action="/subirArchivo" method="POST" enctype="multipart/form-data">
                <input type="file" id="file-input" name="file" onchange="this.form.submit()">
            </form>
        </div>
    </div>
</div>


<script>
    const dropArea = document.getElementById('drop-area');
    dropArea.addEventListener('dragover', (event) => {
        event.preventDefault();
        dropArea.style.borderColor = 'green';
    });
    dropArea.addEventListener('dragleave', () => {
        dropArea.style.borderColor = '#ccc';
    });
    dropArea.addEventListener('drop', (event) => {
        event.preventDefault();
        dropArea.style.borderColor = '#ccc';
        const files = event.dataTransfer.files;
        document.getElementById('file-input').files = files;
        document.getElementById('file-form').submit();
    });
</script>
{% endblock %}
